(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,i){for(var s=0;s<i.length;s++){var n=i[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,a=void 0,a=function(e,i){if("object"!==t(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,i||"default");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(r,"string"),"symbol"===t(a)?a:String(a)),n)}var r,a}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}!function(t,e,s,n){"use strict";var r="divi_pro_gallery",a=i((function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=i,this.$_element=t(this._element),this.$_config=this.$_element.find(".divi-pro-gallery").data("config"),this.$_items=this.$_element.find(".dpg-items"),this.$_item=this.$_items.find(".dpg-item"),this.$_pagiWrap=this.$_element.find(".dpg-pagination-wrap"),this._pluginName=r,this._defaults=t.fn[r].defaults,this._settings=t.extend({},this._defaults,this.$_config),this._currentFilter="*",this._filterValue="",this._itemsPerPageDefault=4,this._itemsPerPage=this._settings.items_per_page?this._settings.items_per_page:this._itemsPerPageDefault,this._currentNumberPages=1,this._init()}));t.extend(a.prototype,{_init:function(){var t=this;"grid"===t._settings.type?t._grid():"masonry"===t._settings.type?t._masonry():"highlight"===t._settings.type?t._highlight():"slider"===t._settings.type?t._slider():this._grid(),t._settings.hasFilters&&t._filters(),t._settings.lightbox&&t._lightbox(),t._settings.hasPagination&&(t._setPagination(),t._createPagers(),t._goToPage(1))},_setPagination:function(){var e=this,i=1,s=1;e.$_items.children(e._filterValue).each((function(){i>e._itemsPerPage&&(s++,i=1);var n=s.toString(),r=t(this).attr("class").split(" ");r[r.length-1].length<4?(t(this).removeClass(),r.pop(),r.push(n),r=r.join(" "),t(this).addClass(r)):t(this).addClass(n),i++})),e._currentNumberPages=s},changeFilter:function(t){this.$_items.isotope({filter:t})},_goToPage:function(t){var e="."+t.toString()+this.$_element.find(".dpg-filters .current a").attr("data-filter");this.changeFilter(e)},_createPagers:function(){var e=this,i="dpg-pagination-"+e._settings.order_id,s="data-page",n=0==t("."+i).length?t('<div class="'+i+'"></div>'):t("."+i);n.html("");for(var r=0;r<e._currentNumberPages;r++){var a=t('<a href="javascript:void(0);" class="pager '+(1==r+1?"current":"")+' " '+s+'="'+(r+1)+'"></a>');a.html(r+1);var h=".dpg-pagination-"+e._settings.order_id+" a";this.$_element.on("click",h,(function(i){if(i.preventDefault(),!t(this).hasClass("current")){var n=t(this).eq(0).attr(s);t(".pager.current").length&&t(".pager.current").removeClass("current"),t(this).addClass("current"),e._goToPage(n)}})),a.appendTo(n)}e.$_pagiWrap.append(n)},_filters:function(){var e=this;this.$_element.on("click",".dpg-filters a",(function(i){i.preventDefault(),t(this).parent().hasClass("current")||(e._filterValue=t(this).attr("data-filter"),e.$_element.find(".dpg-filters .current").removeClass("current"),e.$_element.find(".dpg-filters a[data-filter='"+e._filterValue+"']").parent().addClass("current"),e._reset(),e._init(),e._settings.hasPagination&&(e._filterValue+=".1"),e.$_items.isotope({filter:e._filterValue}).isotope("layout"))}))},_lightbox:function(){var t=[],e=this._settings.lightboxOpts;e.length>0&&(t=e),this.$_items.find('[data-fancybox="dpg-gallery"]').fancybox({buttons:t,animationEffect:"fade"})},_grid:function(){var e=this,i={top:0,left:0,position:0,height:this.$_item.height(),width:this.$_item.width()};e.$_item.each((function(s,n){t(n).data("size",i),t(n).css({height:i.width}),t(n).find(".dpg-square").css({height:i.width}),e._loadImage(s)})),e.$_items.isotope({resizesContainer:!1,itemSelector:".dpg-item",layoutMode:"packery",packery:{gutter:parseInt(e._settings.gutter)}})},_masonry:function(){var e=this,i={top:0,left:0,width:this.$_item.width(),height:this.$_item.height(),position:0};this.$_item.each((function(s,n){t(n).data("size",i),t(n).find(".pic").css({width:i.width}),e._loadImage(s)})),this.$_items.isotope({itemSelector:".dpg-item",layoutMode:"packery",packery:{gutter:parseInt(e._settings.gutter)}})},_highlight:function(){var e,i=this,n=this.$_element.find(".dpg-items").width(),r=this._settings.columns,a=s.documentElement.clientWidth;r=a<767?this._settings.columnsPhone:a<980?this._settings.columnsTablet:this._settings.columns,e=this._settings.gutter>0?(n-this._settings.gutter*(r-1))/r:Math.floor(n/r*1e3)/1e3,this.$_item.each((function(s,n){var r={};r.width=e,r.height=e,t(n).data("size",r).data("position"),t(n).not(".dpg-item-highlight").css(t(n).data("size")),t(n).not(".dpg-item-highlight").find(".pic").css({width:t(n).data("size").width,height:t(n).data("size").height});var a=2*t(n).data("size").height+i._settings.gutter,h=2*t(n).data("size").width+i._settings.gutter;t(".dpg-item-highlight").css({height:a,width:h}),t(".dpg-item-highlight").find(".pic").css({height:a,width:h}),i._loadImage(s)})),this.$_items.isotope({itemSelector:".dpg-item",layoutMode:"packery",packery:{gutter:parseInt(i._settings.gutter)}})},_slider:function(){var t=this,e=t._settings.slider;new Splide(".splide",{type:e.slider_type,arrows:e.slider_arrows,height:e.slider_height,speed:parseInt(e.slider_speed),gap:parseInt(t._settings.gutter),pagination:!1,perPage:parseInt(t._settings.columns),breakpoints:{767:{perPage:parseInt(t._settings.columnsPhone)},980:{perPage:parseInt(t._settings.columnsTablet)}}}).mount()},_reset:function(){var t=this;"grid"===t._settings.type?this._grid():"masonry"===t._settings.type?this._masonry():"highlight"===t._settings.type?this._highlight():"slider"===t._settings.type?this._slider():this._grid()},_loadImage:function(t){var e=this.$_item.eq(t).find(".pic"),i={},s=new Image;s.onload=function(){i={width:this.width,height:this.height},e.data("size",i)},"undefined"!==e.attr("src")?s.src=e.attr("src"):s.src=e.data("src")}}),t.fn[r]=function(e){return this.each((function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new a(this,e))})),this},t.fn[r].defaults={}}(jQuery,window,document),jQuery(document).ready((function(){var t=jQuery(".divi_pro_gallery");jQuery.each(t,(function(){jQuery(this).divi_pro_gallery()}))}))})();